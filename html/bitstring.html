<style type="text/css">
	html {
		font-family: monospace;
	}
</style>

<script>

var columns = 9;

var bitstr1 = [0,0,0,0,1,0,0,0,0];
var bitstr2 = next_bitstring(bitstr1);
var bitstr3 = next_bitstring(bitstr2);
var bitstr4 = next_bitstring(bitstr3);
var bitstr5 = next_bitstring(bitstr4);

function next_bitstring(bitstr) {

	var new_bitstr = [];

	for(var col = 0; col < columns; col++)
	{
		// lines 23 -> 34 determine the rules pattern
		if(col-1 <= 0)
			left = 0;
		else
			left = bitstr[col-1];

		center = bitstr[col];

		if(col+1 >= 9)
			right = 0;
		else
			right = bitstr[col+1];

		// this block deteremines the output
		if(left == 1 && center == 1 && right == 1)
			new_bitstr[col] = 0;
		else if(left == 1 && center == 1 && right == 0)
			new_bitstr[col] = 1;
		else if(left == 1 && center == 0 && right == 1)
			new_bitstr[col] = 0;
		else if(left == 1 && center == 0 && right == 0)
			new_bitstr[col] = 1;
		else if(left == 0 && center == 1 && right == 1)
			new_bitstr[col] = 1;
		else if(left == 0 && center == 1 && right == 0)
			new_bitstr[col] = 0;
		else if(left == 0 && center == 0 && right == 1)
			new_bitstr[col] = 1;
		else
			new_bitstr[col] = 0;
	}		

	return new_bitstr;
}

console.log(bitstr1);
console.log(bitstr2);
console.log(bitstr3);
console.log(bitstr4);
console.log(bitstr5);

document.writeln(bitstr1+"<br>");
document.writeln(bitstr2+"<br>");
document.writeln(bitstr3+"<br>");
document.writeln(bitstr4+"<br>");
document.writeln(bitstr5+"<br>");
</script>